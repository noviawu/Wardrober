{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/xiaodanwu/Desktop/7th/CS app dev /Wardrober/screens/Favorites.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { AppContext } from \"../AppContext\";\nimport { firebaseRealtimeDB } from \"../firebase\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar width = Dimensions.get(\"window\").width;\n\nvar Favorites = function Favorites() {\n  var contextValue = useContext(AppContext);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fav = _useState2[0],\n      setFav = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  useEffect(function () {\n    var getFavs = function getFavs() {\n      firebaseRealtimeDB.ref(\"favorites\").on(\"value\", function (querySnapshot) {\n        if (querySnapshot.exists()) {\n          var items = Object.values(querySnapshot.val());\n          setFav(items);\n        } else {\n          console.log(\"No items found\");\n        }\n      });\n    };\n\n    var getUser = function getUser() {\n      var _user;\n\n      return _regeneratorRuntime.async(function getUser$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user\"));\n\n            case 3:\n              _user = _context.sent;\n              setUser(_user);\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"error in getUser \");\n              console.dir(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    getUser();\n    getFavs();\n  }, []);\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: styles.listItem,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.itemText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, item.name), React.createElement(Image, {\n      source: {\n        uri: item.image_url\n      },\n      style: styles.photo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  var i = 0;\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \" \", contextValue, \"'s Favorites\")), React.createElement(View, {\n    style: styles.list,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, React.createElement(FlatList, {\n    style: {\n      alignSelf: \"flex-start\"\n    },\n    data: fav,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor() {\n      var key = i++;\n      return key.toString();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  title: {\n    flex: 1\n  },\n  header: {\n    fontSize: 36,\n    fontFamily: \"Cochin\",\n    color: \"black\"\n  },\n  list: {\n    flex: 5,\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  listItem: {\n    backgroundColor: \"#F8DE90\",\n    padding: 20,\n    marginVertical: 5,\n    width: 350,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  itemText: {\n    fontSize: 28,\n    fontFamily: \"Cochin\"\n  },\n  photo: {\n    width: 300,\n    height: 300\n  }\n});\nexport default Favorites;","map":{"version":3,"sources":["/Users/xiaodanwu/Desktop/7th/CS app dev /Wardrober/screens/Favorites.js"],"names":["React","useState","useEffect","useContext","AppContext","firebaseRealtimeDB","AsyncStorage","width","Dimensions","get","Favorites","contextValue","fav","setFav","user","setUser","getFavs","ref","on","querySnapshot","exists","items","Object","values","val","console","log","getUser","getItem","dir","renderItem","item","styles","listItem","itemText","name","uri","image_url","photo","i","container","title","header","list","alignSelf","key","toString","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","fontSize","fontFamily","color","flexDirection","padding","marginVertical","height"],"mappings":"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","sourcesContent":["/**\n * This will be the favorites screen where users can see what are the items they marked as favorite\n * Author: Novia Wu\n * Date: 12/6/2021\n */\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  SafeAreaView,\n  FlatList,\n  Image,\n  Dimensions,\n} from \"react-native\";\nimport { AppContext } from \"../AppContext\";\nimport { firebaseRealtimeDB } from \"../firebase\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst width = Dimensions.get(\"window\").width; //full width\nconst Favorites = () => {\n  const contextValue = useContext(AppContext);\n  const [fav, setFav] = useState([]);\n  const [user, setUser] = useState(\"\");\n\n  useEffect(() => {\n    const getFavs = () => {\n      firebaseRealtimeDB.ref(\"favorites\").on(\"value\", (querySnapshot) => {\n        if (querySnapshot.exists()) {\n          const items = Object.values(querySnapshot.val());\n          setFav(items);\n        } else {\n          console.log(\"No items found\");\n        }\n      });\n    };\n    const getUser = async () => {\n      try {\n        const user = await AsyncStorage.getItem(\"user\");\n        setUser(user);\n      } catch (e) {\n        console.log(\"error in getUser \");\n        console.dir(e);\n      }\n    };\n    getUser();\n    getFavs();\n  }, []);\n\n  const renderItem = ({ item }) => (\n    <View style={styles.listItem}>\n      <Text style={styles.itemText}>{item.name}</Text>\n      <Image\n        source={{\n          uri: item.image_url,\n        }}\n        style={styles.photo}\n      ></Image>\n    </View>\n  );\n\n  let i = 0;\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.title}>\n        <Text style={styles.header}> {contextValue}'s Favorites</Text>\n      </View>\n      <View style={styles.list}>\n        <FlatList\n          style={{ alignSelf: \"flex-start\" }}\n          data={fav}\n          renderItem={renderItem}\n          keyExtractor={() => {\n            const key = i++;\n            return key.toString();\n          }}\n        />\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    flex: 1,\n  },\n  header: {\n    fontSize: 36,\n    fontFamily: \"Cochin\",\n    color: \"black\",\n  },\n  list: {\n    flex: 5,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  listItem: {\n    backgroundColor: \"#F8DE90\",\n    padding: 20,\n    marginVertical: 5,\n    width: 350,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  itemText: {\n    fontSize: 28,\n    fontFamily: \"Cochin\",\n  },\n  photo: {\n    width: 300,\n    height: 300,\n  },\n});\n\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}